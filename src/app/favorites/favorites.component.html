<h1 class="page-title">My Favorites</h1>

<div class="sort-bar">
  Sorted by
  <button type="button" (click)="sort('asc')">Price ↑</button>
  <button type="button" (click)="sort('desc')">Price ↓</button>
</div>

<div class="flat-grid" *ngIf="view().length; else empty">
  <div class="flat-card" *ngFor="let f of view()" (click)="open(f)">
    <div
      class="flat-image"
      [ngStyle]="{
        'background-image':
          'url(' + (f.image || 'assets/placeholder.jpg') + ')'
      }"
    >
      <!-- bottom-right delete button -->
      <button class="fav-button" type="button" (click)="remove($event, f.id)">
        <img src="/assets/trash.svg" alt="remove from favorites" />
      </button>
    </div>

    <div class="info">
      <h4>{{ f.title || (f.city + ' · ' + f.streetName) }}</h4>
      <div class="location">
        <img src="/assets/location.svg" alt="location" />
        {{ f.streetName }}, {{ f.city }}
      </div>
      <div class="price">
        ${{ f.rentPrice | number: '1.0-0' }}<span>/month</span>
      </div>
    </div>
  </div>
</div>

<ng-template #empty>
  <p>No favorites yet.</p>
</ng-template>
